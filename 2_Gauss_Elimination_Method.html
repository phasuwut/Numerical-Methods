<!DOCTYPE html>
<html lang="en">
<head>
    
    <title>Gaussian Elimination</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      
    <link rel="stylesheet" href="import/bootstrap-4.3.1/dist/css/bootstrap.min.css">
    <script src="import/jquery-3.3.1/jquery.min.js"></script>
    
    <script src="import/popper.js-1.14.7.js/dist/umd/popper.min.js"></script>
    <script src="import/bootstrap-4.3.1/dist/js/bootstrap.min.js"></script>

    <script src="import/MathJax-2.7.4/latest.js"></script>
    
    <script src="import/mathjs-5.4.1/dist/math.min.js"></script>
    <script src="import/plotly-1.35.2/dist/plotly.min.js"></script>
		<link rel="stylesheet" href="import/w3.css">

  <!--
    การวาง มีผลนะ อะไรก่อนหลัง 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
         <link rel="stylesheet" href="import/bootstrap-3.3.7/css/bootstrap.min.css">
        <script src="import/jquery-3.3.1/jquery.min.js"></script>
        <script src="import/bootstrap-3.3.7/js/bootstrap.min.js"></script>
         
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=AM_CHTML"></script>
            <script src="import/MathJax-2.7.4/latest.js"></script>

  <script src="https://unpkg.com/mathjs@5.4.1/dist/math.min.js"></script>
  <script src="https://cdn.plot.ly/plotly-1.35.2.min.js"></script>
            <script src="import/mathjs-5.4.1/dist/math.min.js"></script>
             <script src="import/plotly-1.35.2/dist/plotly.min.js"></script>


             ////////
  <link rel="stylesheet" href="import/bootstrap-3.3.7/css/bootstrap.min.css">
  <script src="import/jquery-3.3.1/jquery.min.js"></script>
  <script src="import/bootstrap-3.3.7/js/bootstrap.min.js"></script>
 
  <script src="import/MathJax-2.7.4/latest.js"></script>
  
  <script src="import/mathjs-5.4.1/dist/math.min.js"></script>
  <script src="import/plotly-1.35.2/dist/plotly.min.js"></script>
  -->


  <script>
    var En;
    var  arr1  = new Array(); 
    var  arr2  = new Array();
    var Earr_ku= new Array();
    var arr4; //output
    var Eboolen=0;  //เช็คข้อมูลในตารางว่าเป็นเลขป่าว นะ 0เป้น    1ไม่เป็น
    
    var output_matrix_create=1;// 1 คือยังไม่สร้าง
   
    function create_n_to_matrix(){
        En=document.getElementById("input_n").value;
        if((isNaN(En)==false)&&(En!="")){
          //ถ้าเป็นตัวเลขจะเป็น false
          var gg='คุณได้สร้าง'+En+" ตัว";
          En=parseFloat(En); //แปลเป็นfloat
          create_matrix(En,En+1);  // สร้างตารางเพื่อรับข้อมูล
         

          document.getElementById("input_n_button").style.display='none';
          // style.display='block'; //แสดง
          //style.display='none' // ซ่อน
          
          document.getElementById("input_n").style.display='none';
          document.getElementById("input_p_n").innerHTML=gg;

          set_i_j_0();
          create_input_data_to_array_button();//สร้างปุ่มเอาไว้รับข้อมูลลงอาเรย์

      }
      else{
        alert("กรุณาป้อนข้อมูลให้ถูกต้อง นะ1");
      }
    
    }

    function create_matrix(m,n){
							//input_data_table     
						 //  input_data_tbody
						 // input_data_tr
						 // input_data_td
							//อ่าน Tag <div id matrix>
							var body = document.getElementById( "matrix_input" );
							// สร้าง <table> และ <tbody>
							var tbl= document.createElement( "table" );
							tbl.id="input_data_table";
							//tbl.className+="table table-bordered";
							//
							var tblBody = document.createElement( "tbody" );
							tblBody.id="input_data_tbody";
							// n แถว m คอลัมน์
							var  cellText  = new Array(); 
							for( var i = 0 ; i < m ; i++ )
							{
									cellText[i]  = new Array();
									// สร้าง row
									var row = document.createElement( "tr" );
									row.id="input_data_tr";
									// สร้าง col
									for( var j = 0 ; j < n ; j++ )
									{
											// สร้าง td
											
											var cell = document.createElement( "td" );
											cell.id="input_data_td";
											cellText[i][j] = document.createElement( "input" );
											cellText[i][j].setAttribute( "width" , "8%" );
											cell.appendChild( cellText[i][j] );
											cellText[i][j].id = 'input'+i+j;
											row.appendChild( cell );
									};
									// แทรกแถว ลงใน tbody
									tblBody.appendChild( row );
							};
							// ใส่ <tbody> ลงใน <table>
							tbl.appendChild( tblBody );
							// ใส่ <table> ลงใน <body>
							body.appendChild( tbl );
							// กำหนด border
						 // tbl.setAttribute( "border" , "0" );
		}
		
    function set_i_j_0(){
          for(var i=0;i<En;i++){
             for(var j=0;j<En+1;j++){
               
              var string111='input'+i+j;
              if(j==En){
                document.getElementById(string111).placeholder="B"+i;
                document.getElementById(string111).className+=" w3-hover-blue";
                document.getElementById(string111).className+=" w3-input";

              }
              else{
                document.getElementById(string111).placeholder="A"+i+j;
                document.getElementById(string111).className+=" w3-hover-red";
                document.getElementById(string111).className+=" w3-input";
              }
                
                
               
             }
           }
    
          
         }
    
		function create_input_data_to_array_button(){
			var body = document.getElementById( "input_data" );
							var tbl= document.createElement( "input" );
							tbl.type="button";
							tbl.id="run_data";
							tbl.value="คำนวน"
							tbl.onclick=gaussian_elimination;//gaussian_elimination() มันต้องเขียนแบบนี้
							tbl.className+="btn btn-primary "
							body.appendChild( tbl );
		}
    
    function delete_data_array(){
					var Elength_arr1;
					Elength_arr1= arr1.length;
					for(var i=0;i<Elength_arr1;i++){
						arr1.pop();
						arr2.pop();
					}
				arr1  = new Array(); 
				arr2  = new Array();       
		}
	
		function push_data_maritx_to_array(){       
      for(var i=0;i<En;i++){
        arr1[i]  = new Array();
        var j;
          for(j=0;j<En;j++){
            
            var stringij='input'+i+j;
            var EEij=document.getElementById(stringij).value; //ไปเอาข้อมูลใน ตารางมา
            arr1[i][j]=EEij;
            console.log("EEij" , EEij);

          }
          //j=j+1;
          var stringij='input'+i+j;
        // console.log(stringij);
          var EEij=document.getElementById(stringij).value; //ไปเอาข้อมูลใน ตารางมา
        // console.log(EEij);
          arr2[i]=EEij;
      }
        console.log(arr1);
        console.log(arr2);
  }
	
    function check_float_to_martix(){
			console.log("arr1 ", arr1);
			for(var i=0;i<En;i++){
				for(var j=0;j<En;j++){
				 // console.log(isNaN(arr1[i][j])," gg");
				 if(isNaN(arr1[i][j])==false && (arr1[i][j] !="")){}
				 else{
						Eboolen =1; 
				 }
					
				}
				if(isNaN(arr2[i])==false && (arr2[i] !="")){}
				 else{
						Eboolen =1; 
				 }
	
			}
			console.log(arr1)
			console.log(arr2)

			var j=0;
			for(var i=0;i<En;i++){
				Earr_ku[i]= new Array();
				j=0;
				for( j=0;j<En;j++){
							//  Eaa[i][j]=arr1[i][j].slice();
							Earr_ku[i][j]=arr1[i][j].slice(); 
				}
				Earr_ku[i][j]=arr2[i].slice(); 
				
			}
			console.log( Earr_ku)
		}

    function output_matrix(m,n){
							
							//อ่าน Tag <div id matrix>
							var body = document.getElementById( "matrix_output" );
							// สร้าง <table> และ <tbody>
							//
							var tbl = document.getElementById( "table_output" );
						 
							var tblBody = document.createElement( "tbody" );
							tblBody.id="tbody_output"
							// n แถว m คอลัมน์
							var  cellText  = new Array(); 
							for( var i = 0 ; i < m ; i++ )
							{
									cellText[i]  = new Array();
									// สร้าง row
									var row = document.createElement( "tr" );
									row.id="tr_output"
									// สร้าง col
									for( var j = 0 ; j < n ; j++ )
									{
											// สร้าง td
											
											var cell = document.createElement( "td" );
											cell.id="td_output"
											cellText[i][j] = document.createElement( "p" );
										 // cellText[i][j].setAttribute( "width" , "8%" );
											cell.appendChild( cellText[i][j] );
											cellText[i][j].id = 'output'+i+j;
											row.appendChild( cell );
											if(j==0 ){
                          cell.style="background-color: #FF8C00";

                        }
									};
									// แทรกแถว ลงใน tbody
									tblBody.appendChild( row );
							};
							// ใส่ <tbody> ลงใน <table>
							tbl.appendChild( tblBody );
							// ใส่ <table> ลงใน <body>
							body.appendChild( tbl );
							// กำหนด border
						 // tbl.setAttribute( "border" , "0" );
	}
		 	 
  function insert_data_to_matrix(){
			//output00
			//output10
	
			for(var i=0;i<En;i++){
				var str="output"+i+"0";
				console.log(str);
	
				var insertD= document.getElementById(str);
				var str = "A";
				var result = (i.toString()).sub();
				insertD.innerHTML = str +result;
			}

			for(var i=0;i<En;i++){
				var str="output"+i+"1";
				console.log(str);
	
				var insertD= document.getElementById(str);
				//arr4[i]= arr4[i].toFixed(6);
				insertD.innerHTML = arr4[i];
			}
			
			
			 
		}





    function gaussian_elimination(){
			console.log( Earr_ku);
					delete_data_array();
					push_data_maritx_to_array();
					check_float_to_martix();
          console.log( Earr_ku);

					if(Eboolen==0){
						
					
							console.log( Earr_ku);

							var Eaa=Earr_ku.slice();
							console.log( Eaa);
							console.log( Earr_ku);
							//Earr_ku
							console.log( Eaa);
							console.log( arr1);
							console.log( arr2);
							//arr.slice()


							for (var i=0; i<En; i++){
								for (var j=0; j<=En; j++){
									Eaa[i][j]=parseFloat(Eaa[i][j]);
									Eaa[i][j]= Eaa[i][j].toFixed(6); //ทศนิยม 6 ตำแหน่ง
								}
							}
						// Eaa= Eaa.toFixed(6); //ทศนิยม 6 ตำแหน่ง
						// console.log( gauss(Eaa));
						console.log(Eaa);


// En
            var  matrixA  = new Array(En); 
            var  matrixB  = new Array(En);
            var  x  = new Array(En);
            
            for(i=0;i<En;i++){
                matrixA[i]  = new Array(En); 
                for(j=0;j<En;j++){
                    matrixA[i][j]  = parseInt(document.getElementById('input'+i+j).value)
                }
            }
            for(i=0;i<En;i++){
                matrixB[i] = parseInt(document.getElementById('input'+i+En).value)
                //console.log(matrixB[i]);
            }
            console.log("A   " ,(matrixA));
            console.log("B   " ,(matrixB));

            if(matrixA[0][0]==0){
                var a1=matrixA[0].slice();
                matrixA[0]=matrixA[1].slice();
                matrixA[1]=a1.slice();
                var a2=matrixB[0];
                matrixB[0]=matrixB[1];
                matrixB[1]=a2;
            }
            console.log("A   " ,(matrixA));
            console.log("B   " ,(matrixB));
            var ans = Gauss_Eli(matrixA,matrixB,En,En);
            if(Eboolen==0){
              // โชว์ข้อมูล
              console.log(ans);
              Eboolen=0;
              output_matrix(En,2);
              arr4=ans.slice();
              insert_data_to_matrix();
            }
            else{
                  alert("สมการที่คุณสร้างมาหาคำตอบไม่ได้");
                  Eboolen=0;



            }
					}
					else{
						alert("กรุณาป้อนข้อมูลให้ถูกต้อง ครับ");
					}
			}
			
      function Gauss_Eli(A,B,row,col){
                    for(var i=1;i<row;i++){
                        for(var j=0;j<i;j++){
                            if(j<i){
                                const x = A[i][j]/A[j][j];
                                if(x==Infinity || x== -Infinity || x==NaN){
                                  x=0;
                                }
                               // x=x.toFixed(6); //ทศนิยม 6 ตำแหน่ง
                                for(var k=0;k<col;k++){
                                    A[i][k] -= (A[j][k]*x);
                                    A[i][k]=A[i][k].toFixed(6); //ทศนิยม 6 ตำแหน่ง
                                }
                                B[i] -= B[j]*x;
                                B[i]=B[i].toFixed(6); //ทศนิยม 6 ตำแหน่ง
                            }
                        }
                    }
                    var boo1=0;
                    console.log(A[row-1])
                    
                        
                      //var s_en=A[row-1][0];
                      for(var j=0;j<row;j++){
                          if(A[row-1][j]==0){
                            boo1=boo1+1;
                          }
                      
                    }
                    console.log(boo1)
                    if(boo1!=En){
                      var x_arr = new Array();
                      for(var i=0;i<row;i++){x_arr[i] = null;}
                      for(var i=(row-1);i>=0;i--){
                        var temp=0;
                        for(var j=(col-1);j>i;j--){
                            temp += A[i][j]*x_arr[j];
                        }
                        var ex=(B[i]-temp)/A[i][i];
                        if(ex==Infinity || ex== -Infinity || ex==NaN){
                            ex=0;
                        }
                        ex=ex.toFixed(6); //ทศนิยม 6 ตำแหน่ง
                        x_arr[i] = ex;
                      }
                      console.log(x_arr); 
                           
                    }
                    else{
                       // alert("สมการที่คุณสร้างมาหาคำตอบไม่ได้");
                       Eboolen=1;
                    }
                    console.log(A)
                   // printmatrix(A);
                    

                     

                    return x_arr;
      }     
        

  </script>


<!--

  	<script>
		var En;
		var  arr1  = new Array(); 
		var  arr2  = new Array();
		var Earr_ku= new Array();
		var arr4=new Array(); //output
		var Eboolen=0;  //เช็คข้อมูลในตารางว่าเป็นเลขป่าว นะ 0เป้น    1ไม่เป็น
		
		var output_matrix_create=1;// 1 คือยังไม่สร้าง
	 
		function create_n_to_matrix(){
				En=document.getElementById("input_n").value;
				if((isNaN(En)==false)&&(En!="")){
					//ถ้าเป็นตัวเลขจะเป็น false
					var gg='คุณได้สร้าง'+En;
					En=parseFloat(En); //แปลเป็นfloat
					create_matrix(En,En+1);  // สร้างตารางเพื่อรับข้อมูล
					create_input_data_to_array_button();//สร้างปุ่มเอาไว้รับข้อมูลลงอาเรย์

					document.getElementById("input_n_button").style.display='none';
					// style.display='block'; //แสดง
					//style.display='none' // ซ่อน
					
					document.getElementById("input_n").style.display='none';
					document.getElementById("input_p_n").innerHTML=gg;
				//  document.getElementById("run_data").style.display='block';
					set_i_j_0();
					// document.getElementById("run_data").style.display='none';  // ซ่อน ปุ่ม
					//
					// ช่ิงรับข้อมุล  input00  input01
			}
			else{
				alert("กรุณาป้อนข้อมูลให้ถูกต้อง นะ1");
			}
		
		}
	
		function push_data_maritx_to_array(){
	
	
			
				for(var i=0;i<En;i++){
					arr1[i]  = new Array();
					var j;
						for(j=0;j<En;j++){
							
							var stringij='input'+i+j;
							var EEij=document.getElementById(stringij).value; //ไปเอาข้อมูลใน ตารางมา
							arr1[i][j]=EEij;
							console.log("EEij" , EEij);

						}
						//j=j+1;
						var stringij='input'+i+j;
					 // console.log(stringij);
						var EEij=document.getElementById(stringij).value; //ไปเอาข้อมูลใน ตารางมา
					 // console.log(EEij);
						arr2[i]=EEij;
				}
					console.log(arr1);
					console.log(arr2);
	
	
	
	
	
		}
	
		function check_float_to_martix(){
			console.log("arr1 ", arr1);
			for(var i=0;i<En;i++){
				for(var j=0;j<En;j++){
				 // console.log(isNaN(arr1[i][j])," gg");
				 if(isNaN(arr1[i][j])==false && (arr1[i][j] !="")){}
				 else{
						Eboolen =1; 
				 }
					
				}
				if(isNaN(arr2[i])==false && (arr2[i] !="")){}
				 else{
						Eboolen =1; 
				 }
	
			}
			console.log(arr1)
			console.log(arr2)

			var j=0;
			for(var i=0;i<En;i++){
				Earr_ku[i]= new Array();
				j=0;
				for( j=0;j<En;j++){
							//  Eaa[i][j]=arr1[i][j].slice();
							Earr_ku[i][j]=arr1[i][j].slice(); 
				}
				Earr_ku[i][j]=arr2[i].slice(); 
				
			}
			console.log( Earr_ku)


	
		}
	
		function check_data_j_to_n_is_repeatedly(){
			//arr1
			var Edata_num=0;
			for(var i=0;i<En;i++){
				var Edatai=arr1[i][0];
				Edata_num=0;
				for(var j=0;j<En;j++){
					if( (Edatai==arr1[i][j]) ){
							Edata_num=Edata_num+1;
					}
				}
				if(Edata_num==(En)){
					return (i+1);
				}
				
			}
			return 0;
		}
		 
		function check_data_ij_0_martix(){
			var Eij0=0;
			for(var i=0;i<En;i++){
				for(var j=0;j<En;j++){
						if(arr1[i][j]==0){
							Eij0=Eij0+1;
						}
				}
			}
			if(Eij0==En){
				return 1;
			}
			return 0;
		}
	
		function output_matrix(m,n){
							
							//อ่าน Tag <div id matrix>
							var body = document.getElementById( "matrix_output" );
							// สร้าง <table> และ <tbody>
							//
							var tbl = document.getElementById( "table_output" );
						 
							var tblBody = document.createElement( "tbody" );
							tblBody.id="tbody_output"
							// n แถว m คอลัมน์
							var  cellText  = new Array(); 
							for( var i = 0 ; i < m ; i++ )
							{
									cellText[i]  = new Array();
									// สร้าง row
									var row = document.createElement( "tr" );
									row.id="tr_output"
									// สร้าง col
									for( var j = 0 ; j < n ; j++ )
									{
											// สร้าง td
											
											var cell = document.createElement( "td" );
											cell.id="td_output"
											cellText[i][j] = document.createElement( "p" );
										 // cellText[i][j].setAttribute( "width" , "8%" );
											cell.appendChild( cellText[i][j] );
											cellText[i][j].id = 'output'+i+j;
											row.appendChild( cell );
									};
									// แทรกแถว ลงใน tbody
									tblBody.appendChild( row );
							};
							// ใส่ <tbody> ลงใน <table>
							tbl.appendChild( tblBody );
							// ใส่ <table> ลงใน <body>
							body.appendChild( tbl );
							// กำหนด border
						 // tbl.setAttribute( "border" , "0" );
	}
		 
		function insert_data_to_matrix(){
			//output00
			//output10
	
			for(var i=0;i<En;i++){
				var str="output"+i+"0";
				console.log(str);
	
				var insertD= document.getElementById(str);
				var str = "A";
				var result = (i.toString()).sub();
				insertD.innerHTML = str +result;
			}

			for(var i=0;i<En;i++){
				var str="output"+i+"1";
				console.log(str);
	
				var insertD= document.getElementById(str);
				arr4[i]= arr4[i].toFixed(6);
				insertD.innerHTML = arr4[i];
			}
			
			
			 
		}
		
		function create_matrix(m,n){
							//input_data_table     
						 //  input_data_tbody
						 // input_data_tr
						 // input_data_td
							//อ่าน Tag <div id matrix>
							var body = document.getElementById( "matrix_input" );
							// สร้าง <table> และ <tbody>
							var tbl= document.createElement( "table" );
							tbl.id="input_data_table";
							var tblBody = document.createElement( "tbody" );
							tblBody.id="input_data_tbody";
							// n แถว m คอลัมน์
							var  cellText  = new Array(); 
							for( var i = 0 ; i < m ; i++ )
							{
									cellText[i]  = new Array();
									// สร้าง row
									var row = document.createElement( "tr" );
									row.id="input_data_tr";
									// สร้าง col
									for( var j = 0 ; j < n ; j++ )
									{
											// สร้าง td
											
											var cell = document.createElement( "td" );
											cell.id="input_data_td";
											cellText[i][j] = document.createElement( "input" );
											cellText[i][j].setAttribute( "width" , "8%" );
											cell.appendChild( cellText[i][j] );
											cellText[i][j].id = 'input'+i+j;
											row.appendChild( cell );
									};
									// แทรกแถว ลงใน tbody
									tblBody.appendChild( row );
							};
							// ใส่ <tbody> ลงใน <table>
							tbl.appendChild( tblBody );
							// ใส่ <table> ลงใน <body>
							body.appendChild( tbl );
							// กำหนด border
						 // tbl.setAttribute( "border" , "0" );
						}
		 
		function check_symmetric(a,at){

			for (var i = 0; i < N; i++) {
					for (var j = 0; j < N; j++) {
							if (a[i][j] != at[i][j]) {
								return false; 
							} 
					}
			}
			return true;     
		}

		function push_data_maritx_to_array1(){
	
				//Number.isFinite(-1.23) //true
				var Earr1 = new Array();
				//var Earr2 = new Array();

				for(var i=0;i<En+1;i++){
					Earr1[i]  = new Array();
					var j;
						for(j=0;j<En+1;j++){
							if(i==0 || j==0){
								Earr1[i][j]="ads";
							}
							else{
								var stringij='input'+i+j;
								var EEij=document.getElementById(stringij).value; //ไปเอาข้อมูลใน ตารางมา
								Earr1[i][j]=EEij;
							}
				
						}
				
				}


				var boolen1=1;
				for(var i=1;i<En+1;i++){
						for(j=1;j<En+1;j++){
							if(i==0 || j==0){}
							else{

								Earr1[i][j]=parseFloat(Earr1[i][j]);

								if(Number.isFinite(Earr1[i][j])==true){}
								else{
									boolen1=0;
								}
							}   

						}  
				}

			
				console.log(Earr1);
				if(boolen1==1){
					for(var i=0;i<En+1;i++){
						if(i==0){}
						else{
							arr1[i-1]  = new Array();
						}
					var j;
						for(j=0;j<En+1;j++){
							if(i==0 || j==0){

							}
							else{
								arr1[i-1][j-1]=Earr1[i][j];
							}
						
							
						}    
					
					}
					console.log("arr1" ,arr1);
				}
				else{
						alert("กรุณาป้อนข้อมูลให้ถูหต้อง");
				}

				console.log(arr1);



			}

		function func(X) { // คำนวนหา ฟังช้น
				 var expression = document.getElementById("fxx").value;
				 expr = math.compile(expression);
				 let scope = {x:parseFloat(X)};
				 return expr.eval(scope);
		}
		
		function delete_data_array(){
					var Elength_arr1;
					Elength_arr1= arr1.length;
					for(var i=0;i<Elength_arr1;i++){
						arr1.pop();
						arr2.pop();
					}
				arr1  = new Array(); 
				arr2  = new Array();       
		}
	 
		function create_input_data_to_array_button(){
			var body = document.getElementById( "input_data" );
							var tbl= document.createElement( "input" );
							tbl.type="button";
							tbl.id="run_data";
							tbl.value="คำนวน"
							tbl.onclick=gaussian_elimination;//gaussian_elimination() มันต้องเขียนแบบนี้
							body.appendChild( tbl );
		}
		
		// delete_data_array() ล้างข้อมูลในอาเรย์ทั้งหมด 
		//func(X)  // คำนวนหา ฟังช้น
		// create_input_data_to_array_button();// สร้างปุ่มเอาไว้รับข้อมูลลงอาเรย์
	 
		 // push_data_maritx_to_array(); // ไปเอาข้อมุลลงอาเรย์
		 // check_float_to_martix(); //เอาไปเช็คว่าเป็นเลขป่าว
		 
			// output_matrix(En,1);  //สร้างตารางเพื่อแสดงผมลัพ
		 //  insert_data_to_matrix(); //ใส่ข้อมูลลงหน้า gui
				
		 //check_symmetric(a,at) // เป็นการเช็คว่าเป็น symmetric  true false
		 
		 //push_data_maritx_to_array1() รับข้อมุลเป็นarray แบบเช็คว่ามีข้อมูลป่าว flost  ก่อนที่จะรับเข้าarray จริง
	
	
		 function gaussian_elimination(){
			console.log( Earr_ku);
					delete_data_array();
					push_data_maritx_to_array();
					check_float_to_martix();
					if(Eboolen==0){
						
					
							//ทำ เก้าส์
						 // var Eaa = arr1.slice()
						 /*
							var Eaa = new Array();
							for(var i=0;i<En;i++){
								Eaa[i]  = new Array(); 
								var j;
								for( j=0;j<En;j++){
										Eaa[i][j]=arr1[i][j].slice();
										console.log( arr1[i][j]);
								}
								Eaa[i][j]=arr2[i];
							}
							*/
							console.log( Earr_ku);

							var Eaa=Earr_ku.slice();
							console.log( Eaa);
							console.log( Earr_ku);
							//Earr_ku
							console.log( Eaa);
							console.log( arr1);
							console.log( arr2);
							//arr.slice()


							for (var i=0; i<En; i++){
								for (var j=0; j<=En; j++){
								
									Eaa[i][j]=parseFloat(Eaa[i][j]);
									Eaa[i][j]= Eaa[i][j].toFixed(6); //ทศนิยม 6 ตำแหน่ง
								}
							}
						
						// Eaa= Eaa.toFixed(6); //ทศนิยม 6 ตำแหน่ง
						// console.log( gauss(Eaa));
						console.log(Eaa);

						forward(Eaa);
						console.log(backward(Eaa));
						
						
						console.log(arr4);

						if(output_matrix_create==1){
								output_matrix(En,2);
									output_matrix_create=0;

							}
							insert_data_to_matrix();

					}
					else{
						alert("กรุณาป้อนข้อมูลให้ถูกต้อง ครับ");
					}
				}
				
			function gauss(A) {
				var n = A.length;
			// console.log( n);
		//A[maxRow][k]= A[maxRow][k].toFixed(6); //ทศนิยม 6 ตำแหน่ง
			for (var i=0; i<n; i++){
				for (var j=0; j<n; j++){
					A[i][j]=parseFloat( A[i][j]);        
					A[i][j]=A[i][j].toFixed(6); //ทศนิยม 6 ตำแหน่ง
				}
	}

		for (var i=0; i<n; i++) {
				// Search for maximum in this column  ค้นหาสูงสุดในคอลัมน์นี้
				var maxEl = Math.abs(A[i][i]);
				var maxRow = i;
				for(var k=i+1; k<n; k++) {
						if (Math.abs(A[k][i]) > maxEl) {
								maxEl = Math.abs(A[k][i]);
								maxRow = k;
						}
				}

				// Swap maximum row with current row (column by column)
				// สลับแถวสูงสุดกับแถวปัจจุบัน (คอลัมน์ต่อคอลัมน์)
				for (var k=i; k<n+1; k++) {
						var tmp = A[maxRow][k];
						A[maxRow][k] = A[i][k];
						A[i][k] = tmp;
				}

				// Make all rows below this one 0 in current column
				for (k=i+1; k<n; k++) {
						var c = -A[k][i]/A[i][i];
						for(var j=i; j<n+1; j++) {
								if (i==j) {
										A[k][j] = 0.0;
								} else {
										A[k][j] += c * A[i][j];
										A[k][j]=parseFloat( A[k][j]);        
										A[k][j]=A[k][j].toFixed(6); //ทศนิยม 6 ตำแหน่ง
								}
						}
				}
		}
		console.log( n);
		console.log( A);

		// Solve equation Ax=b for an upper triangular matrix A
		var x= new Array(n);
		for (var i=n-1; i>-1; i--) {
				x[i] = A[i][n]/A[i][i];
				for (var k=i-1; k>-1; k--) {
						A[k][n] -= A[k][i] * x[i];
						A[k][n]=parseFloat( A[k][n]);        
						A[k][n]=A[k][n].toFixed(6); //ทศนิยม 6 ตำแหน่ง
				}
		}
		return x;
}

		function pivot(i,ar1){
					//console.log( Math.abs(ar1[i][i]));
					var maxEl = Math.abs(ar1[i][i]), maxRow = i;
					for (k=i+1; k < En; k++) { 
							if (Math.abs(ar1[k][i]) > maxEl) {
									maxEl = Math.abs(ar1[k][i]);
									maxRow = k;
							}
					}


					// Swap maximum row with current row (column by column)
					for (k=i; k < En+1; k++) { 
							var tmp = ar1[maxRow][k];
							ar1[maxRow][k] = ar1[i][k];
							ar1[i][k] = tmp;
					}
				//console.log("b");
				//console.log(ar1);
				//console.log("a");
			}

			function forward(ar1){
					for(var i=0;i<En;i++){
							for(var j=i+1;j<En;j++){
									pivot(i,ar1);
									if(ar1[i][j]==0){
											//console.log("error");      
											//break;
									}
									
									var xe=ar1[j][i]/ar1[i][i];
									if(xe==Infinity || xe== -Infinity || xe==NaN){
										xe=0;
									}
									console.log(xe);
									for(var k=0;k<=En;k++){
											ar1[j][k]=ar1[j][k]-(xe*ar1[i][k]);
									}
							}
							//console.log(ar1);
					}
			}
	 
			function backward(A){
				Eoutput_x=new Array();
								for (var i=En-1; i>-1; i--) {
										Eoutput_x[i] = A[i][En]/A[i][i];
										// console.log(A[i][n]);
										//  console.log(A[i][i]);
										for (var k=i-1; k>-1; k--) {
												A[k][En] -= A[k][i] * Eoutput_x[i];
										}
								}
								for(var i=0;i<En;i++){
									arr4[i]=Eoutput_x[i];
								}
								return Eoutput_x;
			}


			function set_i_j_0(){
					for(var i=0;i<En;i++){
						 for(var j=0;j<En+1;j++){
							 
							var string111='input'+i+j;
							if(j==En){
								document.getElementById(string111).placeholder="B"+i;


							}
							else{
								document.getElementById(string111).placeholder="A"+i+j;

							}
								
								
							 
						 }
					 }
		
					
				 }
				

	</script>
-->

</head>
<body>

		<nav class="navbar navbar-expand-md navbar-light fixed-top  "style="background-color: 	#40E0D0;">
        <a class="navbar-brand pb-2" href="index.html">Numerical</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="nav navbar-nav ">
    
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Roots of Equations
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="1_Graphical_Method.html">Graphical Method</a>
                  <a class="dropdown-item" href="1_Bisection_Method.html">Bisection Method</a>
                  <a class="dropdown-item" href="1_False-Position_Method.html">False-Position Method</a>
                  <a class="dropdown-item" href="1_One-point_Iteration_Method.html">One-point Iteration Method</a>
                  <a class="dropdown-item" href="1_Newton_Method.html">Newton Method</a>
                  <a class="dropdown-item" href="1_Secant_Method.html">Secant Method</a>
              </ul>
            </li>
      
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Linear Algebraic Equations
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="2_Cramer’s_Rule.html">Cramer’s Rule</a>
                  <a class="dropdown-item" href="2_Gauss_Elimination_Method.html">Gauss Elimination Method</a>
                  <a class="dropdown-item" href="2_Gauss_Jordan_Method.html">Gauss-Jordan Method</a>
                  <a class="dropdown-item" href="2_Matrix_Inversion_Method.html">Matrix Inversion Method</a>
                  <a class="dropdown-item" href="2_LU_Decomposition_Method.html">LU Decomposition Method</a>
                  <a class="dropdown-item" href="2_Cholesky_Decomposition_Method.html">Cholesky Decomposition Method</a>
                  <a class="dropdown-item" href="2_Jacobi_Iteration_Method.html">Jacobi Iteration Method</a>
                  <a class="dropdown-item" href="2_Gauss-Seidel_Iteration_Method.html">Gauss-Seidel Iteration Method</a>
                  <a class="dropdown-item" href="2_Conjugate_Gradient_Method.html">Conjugate Gradient Method</a>
              </ul>
            </li>
      
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Interpolation and Extrapolation
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" href="#">Newton's divided-differences</a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="3_Linear_Newton.html">LinearInterpolation</a></li>
                    <li><a class="dropdown-item" href="3_Quadraticq_Newton.html">QUADRATIC INTERPOLATION</a></li>
                    <li><a class="dropdown-item" href="3_Polynomial_Newton.html">POLYNOMIAL INTERPOLATION</a></li>
                  </ul>
                </li>
      
                <li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" href="#">Lagrange polynomials</a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="3_Linear_Lagrange.html">Linear interpolation</a></li>
                    <li><a class="dropdown-item" href="3_Quadratic_Lagrange.html">Quadratic Interpolation</a></li>
                    <li><a class="dropdown-item" href="3_General_Form.html">General Form</a></li>
                  </ul>
                </li>
      
                <li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" href="#">Spline interpolation</a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="3_Linear_Spline.html">Linear Spline</a></li>
                    <li><a class="dropdown-item" href="3_quadratic_splines.html">QUADRATIC SPLINE</a></li>
                    <li><a class="dropdown-item" href="3_CUBIC_splines.html">CUBIC SPLINE</a></li>
                  </ul>
                </li>
      
                
              </ul>
      
              
      
        
            </li>
      
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Least Squares Regression
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="4_Linear_Regression.html">Linear Regression</a>
                  <a class="dropdown-item" href="4_Polynomial_Regression.html">Polynomial Regression</a>
                  <a class="dropdown-item" href="4_Multiple_linear_regression.html">Multiple linear regression</a>
              </ul>
            </li>
      
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Integration and Differentiation
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                 <!--
                  <a class="dropdown-item" href="#">Trapezoidal Rule</a>
                  <a class="dropdown-item" href="#">Composite Trapezoidal Rule </a>
                  <a class="dropdown-item" href="#">Simpson’s Rules</a>
                  <a class="dropdown-item" href="#">Composite Simpson's Rule</a>
                 -->
                 <a class="dropdown-item" href="5_Composite_Trapezoidal_Rule.html">Composite Trapezoidal Rule </a>
                 <a class="dropdown-item" href="5_Composite_Simpson's_Rule.html">Composite Simpson's Rule</a>
             
              </ul>
            </li>
      
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Numerical Differentiation
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" href="#">First Divided Difference</a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="6_Forward _First.html">Forward Divided Difference </a></li>
                    <li><a class="dropdown-item" href="6_Backward_First.html">Backward Divided Difference</a></li>
                    <li><a class="dropdown-item" href="6_Central_First.html">Central Divided Difference</a></li>
                  </ul>
                </li>
      
                <li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" href="#">Second Divided Difference</a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="6_Forward_Second.html">Forward  Divided Difference </a></li>
                    <li><a class="dropdown-item" href="6_Backward_Second.html">Backward Divided Difference</a></li>
                    <li><a class="dropdown-item" href="6_Central_Second.html">Central Divided Difference</a></li>
                  </ul>
                </li>
      
              </ul>
            </li>
    
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Ordinary Differential Equation
                  <!--
                    Ordinary Differential Equation
                  -->
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="7_Euler's_method.html">Euler's method</a>
                  <a class="dropdown-item" href="7_Heunm_method.html">Heun's method </a>
                  <a class="dropdown-item" href="7_Modified_Euler_method.html">Modified Euler's method </a>
             
              </ul>
            </li>
      
      
          
      
    
      
      
      
            <!--
      
          <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Dropdown
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <li><a class="dropdown-item" href="#">Action</a></li>
                <li><a class="dropdown-item" href="#">Another action</a></li>
                <li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" href="http://google.com">Google</a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Submenu</a></li>
                    <li><a class="dropdown-item" href="#">Submenu0</a></li>
                    <li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" href="#">Submenu 1</a>
                      <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Subsubmenu1</a></li>
                        <li><a class="dropdown-item" href="#">Subsubmenu1</a></li>
                      </ul>
                    </li>
                    <li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" href="#">Submenu 2</a>
                      <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Subsubmenu2</a></li>
                        <li><a class="dropdown-item" href="#">Subsubmenu2</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
      -->
            
      
          </ul>
        </div>
    </nav>
      
    <style>
          body  {
            background-image: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%);
      
      }
      </style>
    <style>
  
    .navbar-nav li:hover > ul.dropdown-menu {
      display: block;
      background-color: #FFC0CB;
      
  }
  .dropdown-submenu {
      position:relative;
      background-color: #FFC0CB;
  
  }
  .dropdown-submenu>.dropdown-menu {
      top:0;
      left:100%;
      margin-top:-6px;
      background-color: #FFC0CB;
  
  }

  
  /* rotate caret on hover */
  .dropdown-menu > li > a:hover:after {
      text-decoration: underline;
      transform: rotate(-90deg);
      background-color: #FFC0CB;
  } 

    </style>
      <div class="container-fluid" style="margin-top:90px">
      </div>
     


 




		<center>
				<p style="font-size:50px;">Gaussian Elimination</p>
			</center>
    <div class="row">
      <div class="col-sm-12" >
					<center>
        <div id="input_data">
				
					
				
							<div class="form-group">
									<input type="text" id="input_n" class="w3-input w3-border w3-animate-input"  style="width:30%">
									<input type="button" onclick="create_n_to_matrix()" id="input_n_button" value="รับข้อมูล" class="btn btn-primary "> 

								</div>
								<p id="input_p_n"></p>
					

      </div>
		</center>
      </div>

      <div class="col-sm-6" >
        <div id="plot"></div>
      </div>
    
    </div>
	</div>
    <div class="row">
      <div class="col-sm-12" >
				<br>
					<center>
							<div id='matrix_input' class="table-responsive ">          

						</center>
      </div>
    </div>


		<div class="container-fluid">
    <div class="row">
        <div class="column">
            <div id="Interpolation">
            </div>
        </div>
    </div>



    <div class="row">
        <div class="col-sm-3" >
        </div>

        <div class="col-sm-6" >
          <br>
          <p id ="output_E11"></p>
            <div class="table-responsive" id="matrix_output">
                <table class="table " id="table_output">
                </table>
            </div>
        </div>
        
        <div class="col-sm-3" >
          </div>
     </div>
		</div>


<style>
  
    th {
      padding-top: 12px;
      padding-bottom: 12px;
      text-align: center;
      background-color: #4CAF50;
      color: white;
    }
    
    td{
      text-align: center;
    
    }
     input{
      text-align: center;

     }
     tr,td,tbody,table{
      text-align: center;
      border: 1px solid black;
     
     }
     tr:hover {background-color:#FFE4B5;}
    
    tr {background-color:#FA8072;}
    table {
        border-collapse: collapse;
    }
    
    </style>



</html>
